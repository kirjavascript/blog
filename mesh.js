var svgMesh3d = require('svg-mesh-3d')

var path = "m 289.88001,52.307055 c 10.41385,2.91037 32.30931,-8.54033 16.33203,-17.2547 -8.73429,-1.0835 -22.89379,7.32922 -20.69394,-7.73404 -2.63787,-14.71485 -2.02414,-30.6193696 -8.40715,-44.221495 -10.75572,-9.465304 -19.62465,7.8095854 -12.22198,16.75580544 2.53335,12.85823956 3.87381,25.96338956 5.84544,38.93749956 -12.88956,-5.30022 -22.43108,16.29034 -6.34205,16.70228 15.14629,-5.52 9.52935,17.10498 19.47212,23.66972 8.06985,8.50078 22.76777,9.05171 32.47464,2.70766 8.05357,-13.31499 -9.22195,-13.48371 -17.44827,-13.52548 -5.89687,-2.85546 -7.4759,-10.13426 -9.01084,-16.03725 z m -63.19746,11.0523 c 10.41384,2.91037 32.30932,-8.54033 16.33202,-17.2547 -8.73428,-1.08351 -22.89379,7.32922 -20.69394,-7.73404 -2.63784,-14.71486 -2.02413,-30.6193796 -8.40713,-44.2214996 -10.75573,-9.4653044 -19.62465,7.80958 -12.22199,16.7557996 2.53334,12.85824 3.87381,25.96339 5.84544,38.93751 -12.88956,-5.30023 -22.43108,16.29033 -6.34204,16.70228 15.14629,-5.52002 9.52934,17.10497 19.47211,23.66971 8.06985,8.50078 22.76776,9.05172 32.47464,2.70766 8.05356,-13.31499 -9.22195,-13.48371 -17.44825,-13.52547 -5.89691,-2.85546 -7.47591,-10.13427 -9.01086,-16.03725 z m -44.19299,-20.73928 c -1.61033,-11.46367 -3.11896,-22.97869 -4.44183,-34.4594396 -3.66549,-9.43613 -14.3386,-2.75917 -17.99024,0.72007 -12.57877,-1.88442 -30.5988,1.3348796 -34.18369,16.3099396 -1.08032,17.87583 -0.11207,36.63668 6.88895,53.03651 11.40973,10.19463 20.16937,-8.7337 12.30527,-17.85218 -1.22078,-10.60267 -6.76274,-25.67917 0.0791,-34.04937 9.11719,-2.83894 22.00257,-4.29018 19.30957,9.36706 1.68151,11.82156 2.56355,24.0977 6.88352,35.19345 10.31099,10.25724 20.47863,-7.14189 13.42597,-16.79992 -0.76559,-3.81972 -1.42193,-7.66884 -2.27669,-11.46612 m -66.93545,26.09851 c -7.40099,2.58018 -14.64589,3.02302 -12.69241,-7.07876 -1.96131,-12.97279 -1.34823,-26.76153 -5.895894,-39.07132 -7.938157,-12.15403 -21.420208,3.63238 -14.2269,13.64106 0.374163,11.64252 6.432304,28.46179 2.050746,37.32653 -10.872512,-1.50482 -23.374302,12.98631 -9.608983,18.68039 8.578629,-0.83972 16.734199,-5.17403 14.551777,7.6313 0.7882,17.513555 23.912244,6.167475 16.772654,-7.79941 -4.3493,-11.38359 18.59388,-1.1273 18.66041,-13.8597 0.96396,-5.65082 -4.0842,-10.80797 -9.6114,-9.47009 z m -61.28008,6.08855 c -6.776833,5.91607 -16.43948,12.01782 -26.286869,7.09961 3.795419,-10.99679 19.850229,-13.97696 25.968996,-24.61857 10.900411,-14.28835 -5.36939,-31.15978 -20.355632,-28.44773 -10.947261,0.70087 -27.1242925,3.25217 -30.3280055,16.05667 4.797373,16.99692 21.9406085,-5.17157 33.3537465,-0.19516 10.470746,7.70373 -12.037526,15.04619 -16.701646,20.82034 -11.8582995,7.14691 -11.6682515,27.65307 2.037981,31.61977 11.441191,2.971145 24.07163,1.17296 35.325337,-2.5493 7.618445,-3.16353 5.308892,-20.17497 -3.013908,-19.78563 z"

var mesh = svgMesh3d(path, {
    delaunay: true,
    clean: true,
    scale: 1,
    simplify: 0

})

var t = [];

function draw(positions, cells) {
    var v = positions;

    for (start = 0;start < cells.length; start++) {
        var f = cells[start]
        var v0 = v[f[0]],
            v1 = v[f[1]],
            v2 = v[f[2]];

        t.push(
            "M"+[v0[0]*100,v0[1]*100]+
            " L"+[v1[0]*100,v1[1]*100]+
            " L"+[v2[0]*100,v2[1]*100]+
            " L"+[v0[0]*100,v0[1]*100]
        )
    }
}

draw(mesh.positions, mesh.cells)

require('fs').writeFileSync("src/json/mesh.json",JSON.stringify(t))
require('fs').writeFileSync("build/json/mesh.json",JSON.stringify(t))
