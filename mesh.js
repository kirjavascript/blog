var svgMesh3d = require('svg-mesh-3d')

var path = "m 289.85278,53.06414 c 10.40044,2.970996 32.34873,-8.351741 16.41162,-17.159007 -8.72931,-1.134387 -22.92762,7.195553 -20.6583,-7.85446 -2.57002,-14.729815 -1.88294,-30.6303105 -8.20323,-44.269264 -10.71208,-9.52774 -19.66069,7.6949624 -12.29927,16.68408583 2.47406,12.87264717 3.75409,25.98524317 5.66589,38.97048317 -12.86514,-5.375212 -22.50623,16.159119 -6.41908,16.66484 15.17176,-5.431549 9.45048,17.160052 19.36299,23.78257 8.03065,8.547585 22.72605,9.184183 32.46219,2.896897 8.11498,-13.267667 -9.15978,-13.537091 -17.38592,-13.626816 -5.88371,-2.889756 -7.42917,-10.177557 -8.93689,-16.089329 z m -63.24851,10.683575 c 10.40043,2.970997 32.34875,-8.351741 16.41161,-17.159007 -8.72929,-1.134397 -22.92761,7.195553 -20.65829,-7.85446 -2.56999,-14.729825 -1.88293,-30.6303202 -8.20321,-44.2692687 -10.7121,-9.5277403 -19.66069,7.6949574 -12.29928,16.6840807 2.47405,12.872647 3.75408,25.985244 5.66589,38.970493 -12.86514,-5.375222 -22.50624,16.15911 -6.41908,16.66484 15.17177,-5.431568 9.45047,17.160042 19.36298,23.78256 8.03066,8.547586 22.72605,9.184193 32.46219,2.896898 C 261.04206,80.196183 243.7673,79.926759 235.54119,79.837044 229.65744,76.947288 228.112,69.659477 226.60427,63.747715 z M 182.50687,42.75139 c -1.55746,-11.472735 -3.01299,-22.996227 -4.28292,-34.4843662 -3.62198,-9.4572334 -14.32589,-2.8426805 -17.99358,0.6151743 -12.5701,-1.9576961 -30.605,1.1564639 -34.25895,16.1102049 -1.16275,17.869031 -0.28102,36.634999 6.64438,53.075182 11.36273,10.260858 20.20967,-8.615876 12.38761,-17.779945 -1.17189,-10.609489 -6.64433,-25.717873 0.23612,-34.047953 9.13029,-2.785711 22.02238,-4.161794 19.2664,9.479364 1.62699,11.831031 2.45242,24.111968 6.72123,35.23259 10.2637,10.317061 20.51159,-7.022308 13.50346,-16.721181 -0.74798,-3.824076 -1.38657,-7.676914 -2.22382,-11.47907 m -67.05588,25.707572 c -7.4129,2.536963 -14.65985,2.937556 -12.65978,-7.152553 C 100.88965,48.32255 101.56632,34.537771 97.075416,22.201815 89.193298,10.00185 75.638432,25.709223 82.785593,35.759556 c 0.320473,11.644374 6.301058,28.498489 1.878615,37.337437 -10.865586,-1.56816 -23.434217,12.849683 -9.69514,18.62385 8.582511,-0.789687 16.758079,-5.076332 14.516602,7.715916 0.707436,17.517661 23.88383,6.306701 16.80864,-7.701413 -4.29681,-11.408626 18.5991,-1.018874 18.72435,-13.750529 0.99002,-5.645042 -4.03437,-10.831476 -9.56774,-9.525855 z m -61.308232,5.731142 c -6.804123,5.876398 -16.49492,11.921648 -26.31964,6.94617 C 31.669184,70.161918 47.737756,67.275424 53.905604,56.669783 64.87192,42.445379 48.679903,25.479576 33.681137,28.104186 22.730631,28.741219 6.5418147,31.198142 3.2790492,43.983606 7.9980457,61.008016 25.243533,38.940086 36.633735,43.98289 47.068967,51.747444 24.526809,58.958484 19.836055,64.705282 7.9447834,71.782863 8.0402664,92.289555 21.728222,96.336045 33.155725,99.373804 45.794472,97.6493 57.065357,93.992749 64.6984,90.87372 62.467294,73.849294 54.142688,74.190104 z"

var mesh = svgMesh3d(path, {
    delaunay: true,
    clean: true,
    scale: 1,
    simplify: 0

})

var t = [];

function draw(positions, cells) {
    var v = positions;

    for (start = 0;start < cells.length; start++) {
        var f = cells[start]
        var v0 = v[f[0]],
            v1 = v[f[1]],
            v2 = v[f[2]];

        t.push(
            "M"+[v0[0]*100,v0[1]*100]+
            " L"+[v1[0]*100,v1[1]*100]+
            " L"+[v2[0]*100,v2[1]*100]+
            " L"+[v0[0]*100,v0[1]*100]
        )
    }
}

draw(mesh.positions, mesh.cells)

require('fs').writeFileSync("src/json/mesh.json",JSON.stringify(t))
require('fs').writeFileSync("build/json/mesh.json",JSON.stringify(t))
